<div class="d-flex flex-column">
  <div class="d-flex justify-content-end" style="margin-top:-18px;">
    <div class="fw-semibold small">Morphologically</div>
  </div>
  <hr>
  <div *ngFor="let e of embryos; index as i; trackBy: trackById" [ngClass]="{'pt-2 mt-2 border-top': i>0}" class="px-1">
    <div class="row g-2 align-items-center">
      <!-- Left: number and ID -->
      <div class="col-2 col-md-2 text-center">
        <div class="fw-bold">{{ e.number }}</div>
        <div class="small text-muted">{{ e.id }}</div>
      </div>

      <!-- Middle: title + images -->
      <div class="col-4 col-md-5">
        <div class="fw-semibold mb-1">{{ e.title }}</div>
        <div class="d-flex align-items-center gap-2">
          <img *ngIf="e.image1; else imgPh1" [src]="e.image1!" alt="" class="rounded border" style="width:56px;height:56px;object-fit:cover" />
          <ng-template #imgPh1>
            <div class="rounded border p-1" style="width:56px;height:56px;background:#f8f9fa"></div>
          </ng-template>
          <img *ngIf="e.image2; else imgPh2" [src]="e.image2!" alt="" class="rounded border" style="width:56px;height:56px;object-fit:cover" />
          <ng-template #imgPh2>
            <div class="rounded border p-1" style="width:56px;height:56px;background:#f8f9fa"></div>
          </ng-template>
        </div>
      </div>

      <!-- Right: Morphology + Score -->
      <div class="col-6 col-md-5">
        <div class="d-flex justify-content-between align-items-center mb-1"></div>
        <div class="row g-2 align-items-center">
          <div class="col-auto">
            <div class="form-check d-flex align-items-center gap-1">
              <input class="form-check-input" type="radio" [name]="'morpho-'+e.id" [id]="'morphoIdeal-'+e.id" [(ngModel)]="e.morpho" value="ideal" />
              <label class="form-check-label" [for]="'morphoIdeal-'+e.id">
                <span class="badge rounded-circle me-1" style="background:#28a745;width:10px;height:10px;padding:0"></span>
                Ideal
              </label>
            </div>
          </div>
          <div class="col-auto">
            <div class="form-check d-flex align-items-center gap-1">
              <input class="form-check-input" type="radio" [name]="'morpho-'+e.id" [id]="'morphoNotIdeal-'+e.id" [(ngModel)]="e.morpho" value="not_ideal" />
              <label class="form-check-label" [for]="'morphoNotIdeal-'+e.id">
                <span class="badge rounded-circle me-1" style="background:#adb5bd;width:10px;height:10px;padding:0"></span>
                Not ideal
              </label>
            </div>
          </div>
          <div class="col-auto d-flex align-items-center gap-2">
            <span class="fw-semibold">Score</span>
            <select class="form-select form-select-sm" style="width:90px" [(ngModel)]="e.score">
              <option [ngValue]="null">--</option>
              <option>5AA</option>
              <option>4AA</option>
              <option>3AA</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
