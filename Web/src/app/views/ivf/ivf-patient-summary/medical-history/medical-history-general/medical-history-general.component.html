<div class="general-form" [formGroup]="generalForm">
  <div class="row">
    <!-- ========== TOP SECTION START ========== -->
    <!-- Left Side - 6 columns -->
    <div class="col-md-6">
      <div class="row ">
        <div class="col-md-6">
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="hasChildren" formControlName="hasChildren">
            <label class="form-check-label" for="hasChildren">Has children</label>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="andrologicalDiagnosis" formControlName="andrologicalDiagnosisPerformed">
            <label class="form-check-label" for="andrologicalDiagnosis">Andrological diagnosis performed</label>
          </div>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-md-6">
          <div class="row">
            <div class="col-6">
              <label class="small">Girls</label>
              <input type="number" class="form-control form-control-sm" formControlName="girls" placeholder="0">
            </div>
            <div class="col-6">
              <label class="small">Boys</label>
              <input type="number" class="form-control form-control-sm" formControlName="boys" placeholder="0">
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <label class="small">Date</label>
          <input type="date" class="form-control form-control-sm" formControlName="andrologicalDiagnosisDate" placeholder="Select date">
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-md-6">
          <div class="form-group">
            <label>Infertile since</label>
            <input type="text" class="form-control" formControlName="infertileSince" placeholder="Enter duration">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Infertility type</label>
            <select class="form-select" formControlName="infertilityType">
              <option value="" disabled selected>Select type</option>
              <option value="Primary">Primary</option>
              <option value="Secondary">Secondary</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Side - 6 columns with Vaccinations Card -->
    <div class="col-md-6">
      <div class="card px-3 py-3" style="margin-top: 50px;">
        <div class="form-group">
          <label class="fw-bold">Vaccinations</label>
          <select class="form-select" formControlName="vaccinations">
            <option value="" disabled selected>Select vaccination</option>
            <option value="COVID-19">COVID-19</option>
            <option value="Hepatitis B">Hepatitis B</option>
            <option value="Other">Other</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <!-- ========== TOP SECTION END ========== -->

  <div class="row mt-2">
    <!-- ========== LEFT SIDE - ILLNESSES START ========== -->
    <div class="col-md-6">
      <div class="card px-3 py-1">
        <h6 class="fw-bold mb-2">Illnesses</h6>
        
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" id="idiopathic" formControlName="idiopathic">
          <label class="form-check-label" for="idiopathic">Idiopathic</label>
        </div>

        <div class="card px-2 py-2 mb-1">
          <div class="row mb-1">
            <div class="col-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="asthenozoospermia" formControlName="asthenozoospermia">
                <label class="form-check-label" for="asthenozoospermia">Asthenozoospermia</label>
              </div>
            </div>
            <div class="col-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="teratospermia" formControlName="teratospermia">
                <label class="form-check-label" for="teratospermia">Teratospermia</label>
              </div>
            </div>
            <div class="col-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="aspermia" formControlName="aspermia">
                <label class="form-check-label" for="aspermia">Aspermia</label>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="oligospermia" formControlName="oligospermia">
                <label class="form-check-label" for="oligospermia">Oligospermia</label>
              </div>
            </div>
            <div class="col-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="azoospermia" formControlName="azoospermia">
                <label class="form-check-label" for="azoospermia">Azoospermia</label>
              </div>
            </div>
            <div class="col-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="necrospermia" formControlName="necrospermia">
                <label class="form-check-label" for="necrospermia">Necrospermia</label>
              </div>
            </div>
          </div>
        </div>

        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" id="mumpsAfterPuberty" formControlName="mumpsAfterPuberty">
          <label class="form-check-label" for="mumpsAfterPuberty">Mumps after puberty</label>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group mb-1">
              <label>Endocrinopathies</label>
              <select class="form-select" formControlName="endocrinopathies">
            <option value="" disabled selected>Select condition</option>
            <option value="Hypothyroidism">Hypothyroidism</option>
            <option value="Hyperthyroidism">Hyperthyroidism</option>
            <option value="Diabetes">Diabetes</option>
          </select>
        </div>
        </div>

        <div class="col-md-6">
          <div class="form-group mb-1">
            <label>Previous tumor</label>
            <select class="form-select" formControlName="previousTumor">
              <option value="" disabled selected>Select tumor type</option>
              <option value="Testicular">Testicular</option>
            <option value="Prostate">Prostate</option>
            <option value="Other">Other</option>
          </select>
        </div>
        </div>
        </div>

        <div class="row mb-1 align-items-center">
          <div class="col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="hepatitis" formControlName="hepatitis">
              <label class="form-check-label" for="hepatitis">Hepatitis</label>
            </div>
          </div>
          <div class="col-md-8">
            <input type="text" class="form-control form-control-sm" formControlName="hepatitisDetail" placeholder="Details" [disabled]="!generalForm.get('hepatitis')?.value">
          </div>
        </div>

        <div class="row mb-1 align-items-center">
          <div class="col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="existingAllergies" formControlName="existingAllergies">
              <label class="form-check-label" for="existingAllergies">Existing allergies</label>
            </div>
          </div>
          <div class="col-md-8">
            <input type="text" class="form-control form-control-sm" formControlName="existingAllergiesDetail" placeholder="Details" [disabled]="!generalForm.get('existingAllergies')?.value">
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
          <div class="form-group mb-1">
            <label>Chronic illnesses</label>
            <input type="text" class="form-control" formControlName="chronicIllnesses" placeholder="Enter chronic illnesses">
          </div>
          </div>
          <div class="col-md-6">
          <div class="form-group mb-1">
            <label>Other diseases</label>
            <input type="text" class="form-control" formControlName="otherDiseases" placeholder="Enter other diseases">
          </div>
          </div>
        </div>
      </div>
    </div>
    <!-- ========== LEFT SIDE - ILLNESSES END ========== -->

    <!-- ========== RIGHT SIDE - HARMFUL INFLUENCES START ========== -->
    <div class="col-md-6">
      <div class="card px-3 py-2">
        <h6 class="fw-bold mb-1">Harmful influences</h6>
        
        <!-- Harmful habits moved next to Enhanced risk factors below -->

        <div class="form-group mb-1">
          <label>Current smoking habits / # yr</label>
          <div class="row">
            <div class="col-8">
              <select class="form-select form-select-sm" formControlName="currentSmokingHabits">
                <option value="" disabled selected>Select habit</option>
                <option value="Light">Light (1-10/day)</option>
                <option value="Moderate">Moderate (11-20/day)</option>
                <option value="Heavy">Heavy (20+/day)</option>
              </select>
            </div>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" formControlName="currentSmokingNumber" placeholder="0">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
        <div class="form-group mb-1">
          <label>Prev. smoking habits</label>
          <select class="form-select" formControlName="prevSmokingHabits">
            <option value="" disabled selected>Select previous habit</option>
            <option value="Light">Light</option>
            <option value="Moderate">Moderate</option>
            <option value="Heavy">Heavy</option>
          </select>
        </div>
        </div>

        <div class="col-md-6">
        <div class="form-group mb-1">
          <label>Wine and Beer</label>
          <select class="form-select" formControlName="wineAndBeer">
            <option value="" disabled selected>Select frequency</option>
            <option value="Daily">Daily</option>
            <option value="Weekly">Weekly</option>
            <option value="Occasionally">Occasionally</option>
          </select>
        </div>
        </div>

        <div class="col-md-6">
        <div class="form-group mb-1">
          <label>Liquors</label>
          <select class="form-select" formControlName="liquors">
            <option value="" disabled selected>Select frequency</option>
            <option value="Daily">Daily</option>
            <option value="Weekly">Weekly</option>
            <option value="Occasionally">Occasionally</option>
          </select>
        </div>
        </div>

        <div class="col-md-6">
        <div class="form-group mb-1">
          <label>Current drug habits</label>
          <select class="form-select" formControlName="currentDrugHabits">
            <option value="" disabled selected>Select drug habit</option>
            <option value="None">None</option>
            <option value="Recreational">Recreational</option>
            <option value="Regular">Regular</option>
          </select>
        </div>
        </div>

        <div class="col-md-6">
        <div class="form-group mb-1">
          <label>Prev. drug habits</label>
          <select class="form-select" formControlName="prevDrugHabits">
            <option value="" disabled selected>Select previous habit</option>
            <option value="None">None</option>
            <option value="Recreational">Recreational</option>
            <option value="Regular">Regular</option>
          </select>
        </div>
        </div>

        <div class="col-md-6">
        <div class="form-group mb-1">
          <label>Harmful working environment</label>
          <input type="text" class="form-control" formControlName="harmfulWorkingEnvironment" placeholder="Describe environment">
        </div>
        </div>

        <div class="col-md-6">
        <div class="form-group">
          <label>Enhanced risk factors</label>
          <input type="text" class="form-control" formControlName="enhancedRiskFactors" placeholder="Enter risk factors">
        </div>
        </div>

        <div class="col-md-6 form-group">
          <label >Harmful habits</label>
          <div class="d-flex justify-content-between align-items-center border rounded px-3 py-1 mb-1">
            <div class="d-flex align-items-center gap-3">
              <div class="form-check m-0">
                <input class="form-check-input" type="checkbox" id="smoking" formControlName="smoking">
                <label class="form-check-label" for="smoking">Smoking</label>
              </div>
              <div class="form-check m-0">
                <input class="form-check-input" type="checkbox" id="alcoholism" formControlName="alcoholism">
                <label class="form-check-label" for="alcoholism">Alcoholism</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
    </div>
    <!-- ========== RIGHT SIDE - HARMFUL INFLUENCES END ========== -->
  </div>

  <div class="row mt-2">
    <!-- ========== PERFORMED TREATMENT START ========== -->
    <div class="col-md-6">
      <div class="card px-3 py-2">
        <h6 class="fw-bold mb-2">Performed treatment</h6>
        <div class="row align-items-center mb-1">
          <div class="col-3">
            <div class="form-check mb-0 d-flex align-items-center">
              <input class="form-check-input" type="checkbox" id="alreadyTreated" formControlName="alreadyTreated">
              <label class="form-check-label mb-0 ms-1 text-nowrap" for="alreadyTreated">Already treated</label>
            </div>
          </div>
          <div class="col-3"><label class="small fw-bold">1. treatment</label></div>
          <div class="col-3"><label class="small fw-bold">2. treatment</label></div>
          <div class="col-3"><label class="small fw-bold">3. treatment</label></div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Anti-inflammatory</label></div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="antiInflammatory1" placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="antiInflammatory2" placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="antiInflammatory3" placeholder="[Year]">
          </div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Hormonal treatment</label></div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="hormonalTreatment1" placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="hormonalTreatment2" placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="hormonalTreatment3" placeholder="[Year]">
          </div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Surgical treatment</label></div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="surgicalTreatment1" placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="surgicalTreatment2" placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="surgicalTreatment3" placeholder="[Year]">
          </div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Note</label></div>
          <div class="col-9">
            <input type="text" class="form-control form-control-sm" formControlName="treatmentNote" placeholder="Enter notes">
            <!-- <textarea class="form-control form-control-sm" rows="2" formControlName="treatmentNote" placeholder="Enter notes"></textarea> -->
          </div>
        </div>
      </div>
    </div>
    <!-- ========== PERFORMED TREATMENT END ========== -->

    <!-- ========== FURTHER PLANNING START ========== -->
    <div class="col-md-6">
      <div class="card px-3 py-2">
        <h6 class="fw-bold mb-2">Further planning</h6>
        
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" id="semenAnalysis" formControlName="semenAnalysis">
          <label class="form-check-label" for="semenAnalysis">Semen analysis</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="morphologicalExamination" formControlName="morphologicalExamination">
          <label class="form-check-label" for="morphologicalExamination">Morphological examination</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="serologicalExamination" formControlName="serologicalExamination">
          <label class="form-check-label" for="serologicalExamination">Serological examination</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="andrologicalConsultation" formControlName="andrologicalUrologicalConsultation">
          <label class="form-check-label" for="andrologicalConsultation">Andrological / urological consultation</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="dnaFragmentation" formControlName="dnaFragmentation">
          <label class="form-check-label" for="dnaFragmentation">DNA fragmentation</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="spermFreezing" formControlName="spermFreezing">
          <label class="form-check-label" for="spermFreezing">Sperm freezing</label>
        </div>
      </div>
    </div>
    <!-- ========== FURTHER PLANNING END ========== -->
  </div>

  <!-- ========== ICD-10 START ========== -->
  <!-- <div class="row mt-3">
    <div class="col-md-12">
      <div class="form-group">
        <label class="fw-bold">ICD-10</label>
        <input type="text" class="form-control" formControlName="icd10" placeholder="Enter ICD-10 code">
      </div>
    </div>
  </div> -->
  <!-- ========== ICD-10 END ========== -->
</div>
