<form [formGroup]="form" class="card p-2">
  <div class="row g-2 align-items-end">
    <div class="col-lg-3 col-md-4 col-sm-6">
      <label class="form-label">Preparation date</label>
      <input type="date" class="form-control" formControlName="prepDate" />
    </div>
    <div class="col-lg-3 col-md-4 col-sm-6">
      <label class="form-label">Time</label>
      <input type="time" class="form-control" formControlName="prepTime" />
    </div>
    <div class="col-lg-6 col-md-8 col-sm-12">
      <label class="form-label">Preparation by</label>
      <select class="form-select" formControlName="prepBy">
        <option value="">Select</option>
        <option *ngFor="let p of hrEmployees" [value]="p.providerId">{{ p.name }}</option>
      </select>
    </div>
  </div>

  <div class="mt-2">
    <div class="fw-semibold mb-1">{{ labelFor('IVFSemanAnalysis:Preperation') }} <small class="text-muted">(max. 4)</small></div>
    <div class="border rounded p-2" formArrayName="methods">
      <div class="row g-2">
        <div class="col-md-6">
          <div class="form-check" *ngFor="let opt of methodsOptions.slice(0,9); let i = index">
            <input class="form-check-input" type="checkbox" [formControlName]="i" (change)="onMethodToggle(i)" id="methodL{{i}}">
            <label class="form-check-label" for="methodL{{i}}">{{ opt.name }}</label>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-check" *ngFor="let opt of methodsOptions.slice(9); let j = index">
            <input class="form-check-input" type="checkbox" [formControlName]="j + 9" (change)="onMethodToggle(j + 9)" id="methodR{{j}}">
            <label class="form-check-label" for="methodR{{j}}">{{ opt.name }}</label>
          </div>
        </div>
      </div>
    </div>
  </div>

</form>

<div class="text-muted small">Preparation content goes here.</div>