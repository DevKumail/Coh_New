  <div class="card shadow-sm">
  <div class="card-body">
    <form [formGroup]="form" class="row g-1">
      <div class="row w-100" >
      <div class=" top-cards col-lg-6 col-md-6 col-sm-6">
      <div class="card d-flex p-1">
        <div class="col-12">
          <label class="form-label">Collection date & time</label>
        </div>
        <div class="d-flex gap-2">
          <input type="date" class="form-control flex-fill" formControlName="collectionDate" placeholder="Select collection date" />
          <input type="time" class="form-control flex-fill" formControlName="collectionTime" placeholder="Select collection time" />
        </div>
      </div>
      </div>
      
      <!-- Thawing date -->
      <!-- date when frozen sample was thawed (if applicable) -->
       <div class="top-cards col-lg-6 col-md-6 col-sm-6">
       <div class="card d-flex p-1">
        <div class="col-12">
          <label class="form-label">Thawing date & time</label>
        </div>
        <div class="d-flex gap-2">
          <input type="date" class="form-control flex-fill" formControlName="thawingDate" placeholder="Select thawing date" />
          <input type="time" class="form-control flex-fill" formControlName="thawingTime" placeholder="Select thawing time" />
        </div>
       </div>
       </div>
      
            <!-- Abstinence period [d] -->
      <!-- <div class="top-cards col-lg-4 col-md-4 col-sm-6">
      <div class="card d-flex p-1">
        <div class="d-flex gap-2">
          <div>
            <label class="form-label">Abstinence period [d]</label>
            <input type="number" class="form-control flex-fill" formControlName="abstinenceDays" placeholder="Abstinence (days)" />
          </div>
          <div>
            <label class="form-label">Start Of Analysis</label>
            <input type="time" class="form-control flex-fill" formControlName="startOfAnalysis" placeholder="Start of analysis time" />
          </div>
        </div>
      </div>
      </div> -->
      </div>

      <!-- Abstinence period [d] -->
      <!-- internal identifier of the sample -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Abstinence period [d]</label>
        <input type="number" class="form-control" formControlName="abstinenceDays" placeholder="Abstinence (days)" />
      </div>

      <!-- Sample ID -->
      <!-- internal identifier of the sample -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Start Of Analysis</label>
        <input type="time" class="form-control" formControlName="startOfAnalysis" placeholder="Start of analysis time" />
      </div>

      <!-- Sample ID -->
      <!-- internal identifier of the sample -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Sample ID</label>
        <input type="text" class="form-control" formControlName="sampleId" placeholder="Enter sample ID" />
      </div>
      
      <!-- Purpose (dropdown)--> 
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">{{ labelFor('IVFSemanAnalysis:Purpose') }}</label>
        <select class="form-select" formControlName="purpose">
          <option value="">Select {{ labelFor('IVFSemanAnalysis:Purpose') }}</option>
          <option *ngFor="let o of dropdowns['IVFSemanAnalysis:Purpose']" [value]="o.valueId">{{ o.name }}</option>
        </select>
      </div>
      
      <!-- Collection method (dropdown) -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">{{ labelFor('IVFSemanAnalysis:CollectionMethod') }}</label>
        <select class="form-select" formControlName="collectionMethod">
          <option value="">Select {{ labelFor('IVFSemanAnalysis:CollectionMethod') }}</option>
          <option *ngFor="let o of dropdowns['IVFSemanAnalysis:CollectionMethod']" [value]="o.valueId">{{ o.name }}</option>
        </select>
      </div>
      
      <!-- Collection place -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">{{ labelFor('IVFSemanAnalysis:CollectionPlace') }}</label>
        <select class="form-select" formControlName="collectionPlace">
          <option value="">Select {{ labelFor('IVFSemanAnalysis:CollectionPlace') }}</option>
          <option *ngFor="let o of dropdowns['IVFSemanAnalysis:CollectionPlace']" [value]="o.valueId">{{ o.name }}</option>
        </select>
      </div>
      
      <!-- Collection difficulties -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Collection difficulties</label>
        <input type="text" class="form-control" formControlName="collectionDifficulties" placeholder="Enter any collection difficulties" />
      </div>
      
      <!-- Analysed by -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Analysed by</label>
          <select class="form-select" formControlName="analysedBy">
          <option value="">Select Provider</option>
          <option *ngFor="let p of hrEmployees" [value]="p.providerId">{{ p.name }}</option>
        </select>
      </div>
      
      <!-- Appearance (dropdown) -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">{{ labelFor('IVFSemanAnalysis:Appearance') }}</label>
        <select class="form-select" formControlName="appearance">
          <option value="">Select {{ labelFor('IVFSemanAnalysis:Appearance') }}</option>
          <option *ngFor="let o of dropdowns['IVFSemanAnalysis:Appearance']" [value]="o.valueId">{{ o.name }}</option>
        </select>
      </div>
      
      <!-- Smell (dropdown) -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">{{ labelFor('IVFSemanAnalysis:Smell') }}</label>
        <select class="form-select" formControlName="smell">
          <option value="">Select {{ labelFor('IVFSemanAnalysis:Smell') }}</option>
          <option *ngFor="let o of dropdowns['IVFSemanAnalysis:Smell']" [value]="o.valueId">{{ o.name }}</option>
        </select>
      </div>
      
      <!-- Viscosity (dropdown) -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">{{ labelFor('IVFSemanAnalysis:Viscosity') }}</label>
        <select class="form-select" formControlName="viscosity">
          <option value="">Select {{ labelFor('IVFSemanAnalysis:Viscosity') }}</option>
          <option *ngFor="let o of dropdowns['IVFSemanAnalysis:Viscosity']" [value]="o.valueId">{{ o.name }}</option>
        </select>
      </div>
      
      <!-- Treatment -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Treatment</label>
        <input type="text" class="form-control" formControlName="treatment" placeholder="Enter treatment" />
      </div>
      
      <!-- Score -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Score</label>
        <input type="text" class="form-control" formControlName="score" placeholder="Enter score" />
      </div>

      <!-- Liquefaction time [min] -->
      <div class="col-lg-3 col-md-4 col-sm-4">
        <label class="form-label">Liquefaction time [min]</label>
        <input type="number" class="form-control" formControlName="liquefactionTime" placeholder="Minutes" />
      </div>

       <!-- DNA fragmented   -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">DNA fragmented [%]</label>
        <input type="number" class="form-control" formControlName="dnaFragmented" placeholder="Enter % value" />
      </div>
      

          <!-- Agglutination (checkbox, reactive)  -->
      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Agglutination</label>
          <input class="form-check-input" type="checkbox" formControlName="agglutination" id="agglutinationChk">
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Time between collection and usage</label>
        <input type="time" class="form-control" formControlName="timeBetweenCollectionAndUsage" />
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Number of insem. motile sperms [x10^6]</label>
        <input type="number" class="form-control" formControlName="numberOfInsemMotile" />
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">Inseminated amount [ml]</label>
        <input type="number" class="form-control" formControlName="inseminatedAmountMl" />
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6">
        <label class="form-label">24h Motility rate [%]</label>
        <input type="number" class="form-control" formControlName="rate24hMotility" />
      </div>


      <!-- Agglutination (checkbox, reactive) -->
    
         <!-- <div class="row g-2 mt-2">


      <div class="col-7 d-flex align-items-center">
        <label class="form-label mb-0">Number of insem. motile sperms [x10^6]</label>
      </div>
      <div class="col-5">
        <input type="number" class="form-control" formControlName="numberOfInsemMotile" />
      </div>

      <div class="col-7 d-flex align-items-center">
        <label class="form-label mb-0">Inseminated amount [ml]</label>
      </div>
      <div class="col-5">
        <input type="number" class="form-control" formControlName="inseminatedAmountMl" />
      </div>

      <div class="col-7 d-flex align-items-center">
        <label class="form-label mb-0">24h Motility rate [%]</label>
      </div>
      <div class="col-5">
        <input type="number" class="form-control" formControlName="rate24hMotility" />
      </div>
    </div> -->
     

      <!-- Divider -->
      <div class="col-12"><hr/></div>

      <!-- Parameter / Files Tabs Card -->
      <div class="col-8">
        <app-semen-tabs [dropdowns]="dropdowns" [labelFor]="labelFor" [hrEmployees]="hrEmployees"></app-semen-tabs>
      </div>
      <div class="col-4">
       
        <app-semen-diagnosis-approval [dropdowns]="dropdowns" [labelFor]="labelFor" [hrEmployees]="hrEmployees"></app-semen-diagnosis-approval>
      </div>

      <!-- Footer actions -->
      <div class="col-12 d-flex justify-content-end gap-2 mt-2">
        <button type="button" class="btn btn-outline-secondary btn-sm">Generate letter</button>
        <button type="button" class="btn btn-sm btn-light" (click)="onCancel()">Cancel</button>
        <button type="button" class="btn btn-sm btn-success" (click)="onSave()">Save</button>
      </div>
    </form>
    
  </div>
</div>
