<div class="general-form" [formGroup]="generalForm">
  <div class="row">
    <!-- ========== TOP SECTION START ========== -->
    <div class="col-md-12">
      <div class="row ">
        <div class="col-md-3">
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="hasChildren" formControlName="hasChildren">
            <label class="form-check-label" for="hasChildren">Has children</label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="andrologicalDiagnosis"
              formControlName="andrologicalDiagnosisPerformed">
            <label class="form-check-label" for="andrologicalDiagnosis">Andrological diagnosis performed</label>
          </div>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-md-3">
          <div class="row">
            <div class="col-6">
              <label class="small">Girls</label>
              <input type="number" class="form-control form-control-sm" formControlName="girls" placeholder="0" [disabled]="!generalForm.get('hasChildren')?.value">
            </div>
            <div class="col-6">
              <label class="small">Boys</label>
              <input type="number" class="form-control form-control-sm" formControlName="boys" placeholder="0" [disabled]="!generalForm.get('hasChildren')?.value">
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <label class="small">Date</label>
          <input type="date" class="form-control form-control-sm" formControlName="andrologicalDiagnosisDate"
            placeholder="Select date" [disabled]="!generalForm.get('andrologicalDiagnosisPerformed')?.value">
        </div>
        <!-- </div>

      <div class="row mb-2"> -->
        <div class="col-md-3">
          <div class="form-group">
            <label>Infertile since</label>
            <input type="text" class="form-control" formControlName="infertileSince" placeholder="Enter duration">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Infertility type</label>
            <select class="form-select" formControlName="infertilityType">
              <option value="" disabled selected>Select type</option>
              <option *ngFor="let o of opts('IVFMaleFertilityHistory:InfertilityType')" [value]="o.valueId">{{ o.name }}</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ========== TOP SECTION END ========== -->

  <div class="row mt-2">
    <!-- ========== ILLNESSES START ========== -->
    <div class="col-md-12">
      <div class="card px-3 py-1">
        <h6 class="fw-bold mb-2">Illnesses</h6>

        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" id="idiopathic" formControlName="idiopathic">
          <label class="form-check-label" for="idiopathic">Idiopathic</label>
        </div>

        <div class="card px-2 py-2 mb-1">
          <div class="row mb-1">
            <div class="col-2" *ngFor="let o of opts('IVFMaleFertilityHistory:Idiopathic')">
              <div class="form-check">
                <input class="form-check-input" type="checkbox"
                  [id]="'idiopathic_'+o.valueId"
                  [checked]="isIdiopathicSelected(o.valueId)"
                  (change)="toggleIdiopathic(o.valueId)"
                  [disabled]="!generalForm.get('idiopathic')?.value">
                <label class="form-check-label" [for]="'idiopathic_'+o.valueId">{{ o.name }}</label>
              </div>
            </div>
          </div>
        </div>

        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" id="mumpsAfterPuberty" formControlName="mumpsAfterPuberty">
          <label class="form-check-label" for="mumpsAfterPuberty">Mumps after puberty</label>
        </div>

        <div class="row">
          <div class="col-md-3">
            <div class="form-group mb-1">
              <label>Endocrinopathies</label>
              <select class="form-select" formControlName="endocrinopathies">
                <option value="" disabled selected>Select condition</option>
                <option *ngFor="let o of opts('IVFMaleFertilityHistory:Endocrinopathies')" [value]="o.valueId">{{ o.name }}</option>
              </select>
            </div>
          </div>

          <div class="col-md-3">
            <div class="form-group mb-1">
              <label>Previous tumor</label>
              <select class="form-select" formControlName="previousTumor">
                <option value="" disabled selected>Select tumor type</option>
                <option *ngFor="let o of opts('IVFMaleFertilityHistory:PreviousTumor')" [value]="o.valueId">{{ o.name }}</option>
              </select>
            </div>
          </div>

          <div class="col-md-3">
            <div class="form-group mb-1">
              <label>Chronic illnesses</label>
              <input type="text" class="form-control" formControlName="chronicIllnesses"
                placeholder="Enter chronic illnesses">
            </div>
          </div>
          <div class="col-md-3">
            <div class="form-group mb-1">
              <label>Other diseases</label>
              <input type="text" class="form-control" formControlName="otherDiseases"
                placeholder="Enter other diseases">
            </div>
          </div>
        </div>

        <div class="row mb-1 align-items-center">
          <div class="col-md-6">
            <input class="form-check-input" type="checkbox" id="hepatitis" formControlName="hepatitis">
            <label class="form-check-label ms-2" for="hepatitis">Hepatitis</label>
            <input type="text" class="form-control form-control-sm mt-1" formControlName="hepatitisDetail"
              placeholder="Details" [disabled]="!generalForm.get('hepatitis')?.value">
          </div>
          <div class="col-md-6">
            <input class="form-check-input" type="checkbox" id="existingAllergies"
              formControlName="existingAllergies">
            <label class="form-check-label ms-2" for="existingAllergies">Existing allergies</label>
            <input type="text" class="form-control form-control-sm mt-1" formControlName="existingAllergiesDetail"
              placeholder="Details" [disabled]="!generalForm.get('existingAllergies')?.value">
          </div>
        </div>
      </div>
    </div>
    <!-- ========== ILLNESSES END ========== -->

  </div>

  <div class="row mt-2">
    <!-- ========== PERFORMED TREATMENT START ========== -->
    <div class="col-md-6">
      <div class="card px-3 py-2">
        <h6 class="fw-bold mb-2">Performed treatment</h6>
        <div class="row align-items-center mb-1">
          <div class="col-3">
            <div class="form-check mb-0 d-flex align-items-center">
              <input class="form-check-input" type="checkbox" id="alreadyTreated" formControlName="alreadyTreated">
              <label class="form-check-label mb-0 ms-1 text-nowrap" for="alreadyTreated">Already treated</label>
            </div>
          </div>
          <div class="col-3"><label class="small fw-bold">1. treatment</label></div>
          <div class="col-3"><label class="small fw-bold">2. treatment</label></div>
          <div class="col-3"><label class="small fw-bold">3. treatment</label></div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Anti-inflammatory</label></div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="antiInflammatory1"
              placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="antiInflammatory2"
              placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="antiInflammatory3"
              placeholder="[Year]">
          </div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Hormonal treatment</label></div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="hormonalTreatment1"
              placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="hormonalTreatment2"
              placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="hormonalTreatment3"
              placeholder="[Year]">
          </div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Surgical treatment</label></div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="surgicalTreatment1"
              placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="surgicalTreatment2"
              placeholder="[Year]">
          </div>
          <div class="col-3">
            <input type="text" class="form-control form-control-sm" formControlName="surgicalTreatment3"
              placeholder="[Year]">
          </div>
        </div>

        <div class="row mb-1">
          <div class="col-3"><label class="small">Note</label></div>
          <div class="col-9">
            <input type="text" class="form-control form-control-sm" formControlName="treatmentNote"
              placeholder="Enter notes">
            <!-- <textarea class="form-control form-control-sm" rows="2" formControlName="treatmentNote" placeholder="Enter notes"></textarea> -->
          </div>
        </div>
      </div>
    </div>
    <!-- ========== PERFORMED TREATMENT END ========== -->

    <!-- ========== FURTHER PLANNING START ========== -->
    <div class="col-md-6">
      <div class="card px-3 py-2">
        <h6 class="fw-bold mb-2">Further planning</h6>

        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" id="semenAnalysis" formControlName="semenAnalysis">
          <label class="form-check-label" for="semenAnalysis">Semen analysis</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="morphologicalExamination"
            formControlName="morphologicalExamination">
          <label class="form-check-label" for="morphologicalExamination">Morphological examination</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="serologicalExamination"
            formControlName="serologicalExamination">
          <label class="form-check-label" for="serologicalExamination">Serological examination</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="andrologicalConsultation"
            formControlName="andrologicalUrologicalConsultation">
          <label class="form-check-label" for="andrologicalConsultation">Andrological / urological consultation</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="dnaFragmentation" formControlName="dnaFragmentation">
          <label class="form-check-label" for="dnaFragmentation">DNA fragmentation</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="spermFreezing" formControlName="spermFreezing">
          <label class="form-check-label" for="spermFreezing">Sperm freezing</label>
        </div>
      </div>
    </div>
    <!-- ========== FURTHER PLANNING END ========== -->
  </div>

  <!-- ========== ICD-10 START ========== -->
  <!-- <div class="row mt-3">
    <div class="col-md-12">
      <div class="form-group">
        <label class="fw-bold">ICD-10</label>
        <input type="text" class="form-control" formControlName="icd10" placeholder="Enter ICD-10 code">
      </div>
    </div>
  </div> -->
  <!-- ========== ICD-10 END ========== -->
</div>