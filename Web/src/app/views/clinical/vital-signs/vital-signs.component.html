<nav aria-label="breadcrumb">
    <ol class="breadcrumb bg-light bg-opacity-50 p-2 mb-3">
        <li class="breadcrumb-item">
            <a href="javascript:void(0);">
                <ng-icon name="tablerSmartHome"></ng-icon>
                Clinical
            </a>
        </li>
        <li
            class="d-flex align-items-center text-muted mx-1"
            aria-current="page"
        >
            <ng-icon name="tablerChevronRight"></ng-icon>
        </li>
        <li class="breadcrumb-item active" aria-current="page">Vital Sings</li>
    </ol>
</nav>

<div class="card p-4 shadow">
    <form [formGroup]="vitalSignsForm" (ngSubmit)="onSubmit()">
        <div class="row">
            <div class="col-sm-3">
                <label>Date <span class="text-danger">*</span></label>
                <input
                    type="text"
                    class="form-control"
                    formControlName="entryDate"
                    id="entryDate"
                    placeholder="Select date"
                    data-provider="flatpickr"
                />
            </div>

            <!-- Daily Start Time -->
            <div class="col-sm-3">
                <label
                    >Daily Start Time <span class="text-danger">*</span></label
                >
                <input
                    type="time"
                    class="form-control"
                    formControlName="dailyStartTime"
                />
            </div>

            <!-- Systolic -->
            <div class="col-sm-3">
                <label
                    >Systolic (mmHg) <span class="text-danger">*</span></label
                >
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="bpSystolic"
                        min="0"
                        max="300"
                    />
                </div>
            </div>

            <!-- Diastolic -->
            <div class="col-sm-3">
                <label
                    >Diastolic (mmHg) <span class="text-danger">*</span></label
                >
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="bpDiastolic"
                        min="0"
                        max="200"
                    />
                </div>
            </div>

            <!-- Heart Rate -->
            <div class="col-sm-3">
                <label
                    >Heart Rate (Beats/minute)
                    <span class="text-danger">*</span></label
                >
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="heartRate"
                        min="0"
                        max="200"
                    />
                </div>
            </div>

            <!-- Respiration Rate -->
            <div class="col-sm-3">
                <label
                    >Respiration Rate <span class="text-danger">*</span></label
                >
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="respirationRate"
                        min="0"
                        max="100"
                    />
                </div>
            </div>

            <!-- Temperature -->
            <div class="col-sm-3">
                <label
                    >Temperature (Â°F) <span class="text-danger">*</span></label
                >
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="temperature"
                        min="0"
                        max="150"
                    />
                </div>
            </div>

            <!-- Weight -->
            <div class="col-sm-3">
                <label>Weight (kgs) <span class="text-danger">*</span></label>
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="weight"
                        min="0"
                        max="300"
                    />
                </div>
            </div>

            <!-- Height -->
            <div class="col-sm-3">
                <label>Height (cms) <span class="text-danger">*</span></label>
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="height"
                        min="0"
                        max="300"
                    />
                </div>
            </div>

            <!-- BMI -->
            <div class="col-sm-3">
                <label>BMI <span class="text-danger">*</span></label>
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="bmi"
                        min="0"
                        max="100"
                    />
                </div>
            </div>

            <!-- SPO2 -->
            <div class="col-sm-3">
                <label>SPO2 (%) <span class="text-danger">*</span></label>
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="spo2"
                        min="0"
                        max="100"
                    />
                </div>
            </div>

            <!-- Glucose -->
            <div class="col-sm-3">
                <label
                    >Glucose (mg/dl) <span class="text-danger">*</span></label
                >
                <div class="mt-2">
                    <input
                        type="number"
                        class="form-control form-control-sm"
                        formControlName="glucose"
                        min="0"
                        max="400"
                    />
                </div>
            </div>

            <!-- Comment -->
            <div class="col-sm-3 mb-3">
                <label>Comment <span class="text-danger">*</span></label>
                <input
                    type="text"
                    class="form-control"
                    formControlName="comment"
                    placeholder="Enter your comment"
                />
            </div>
        </div>

        <button
            class="btn btn-primary mt-3"
            type="submit"
            [disabled]="isSubmitting"
        >
            <span *ngIf="isSubmitting">
                <span
                    class="spinner-border spinner-border-sm me-1"
                    role="status"
                    aria-hidden="true"
                ></span>
                Submitting...
            </span>
            <span *ngIf="!isSubmitting">Submit</span>
        </button>
    </form>
</div>
<!-- ðŸ‘‡ Grid/Card Starts -->
<div class="card p-3 mt-4 shadow-sm">
    <div class="card-header">
        <h5 class="mb-0">Vital Signs List</h5>
    </div>

    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead class="table-light">
                    <tr>
                        <th>Date</th>
                        <!-- <th>Time</th> -->
                        <th>Temp (Â°F)</th>
                        <th>Pulse</th>
                        <th>Resp. Rate</th>
                        <th>BP (Sys/Dia)</th>
                        <th>O2 Sat (%)</th>
                        <th>Height (cm)</th>
                        <th>Weight (kg)</th>
                        <!-- <th>BMI</th>
                         <th>Glucose</th> -->
                        <!-- <th>Comment</th> -->
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let vital of vitalSignsPagedData; let i = index"
                    >
                        <td>{{ vital.entryDate }}</td>
                        <!-- <td>{{ vital.dailyStartTime }}</td> -->
                        <td>{{ vital.temperature || "N/A"}}</td>
                        <td>{{ vital.heartRate || "N/A"}}</td>
                        <td>{{ vital.respirationRate || "N/A"}}</td>
                        <td>{{ vital.bpSystolic || "N/A"}}/{{ vital.bpDiastolic || "N/A"}}</td>
                        <td>{{ vital.spo2 || "N/A"}}</td>
                        <td>{{ vital.height || "N/A"}}</td>
                        <td>{{ vital.weight || "N/A"}}</td>
                        <!-- <td>{{ vital.bmi }}</td>
            <td>{{ vital.glucose }}</td> -->
                        <!-- <td>{{ vital.comment || "N/A"}}</td> -->
                        <td>
                            <ng-icon
                                name="tablerTrash"
                                class="text-danger me-1 cursor-pointer"
                                (click)="deleteVital(i)"
                            >
                            </ng-icon>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div
            *ngIf="vitalSignsPagedData.length > 0"
            class="d-flex flex-column align-items-center mt-3 gap-2"
        >
            <div
                class="d-flex justify-content-end align-items-center bg-light rounded px-3 py-2 gap-3 w-100 flex-wrap"
            >
                <!-- Showing entries + dropdown -->
                <!-- <div class="d-flex align-items-center gap-2 flex-wrap">
                    <div class="me-2">
                        Showing {{ start + 1 }} to
                        {{
                            end > vitalSignsList.length
                                ? vitalSignsList.length
                                : end
                        }}
                        of {{ vitalSignsList.length }} entries
                    </div>
                    <div>
                        <select
                            class="form-select form-select-sm"
                            style="width: auto"
                            [(ngModel)]="pageSize"
                            [ngModelOptions]="{ standalone: true }"
                            (change)="onPageSizeChange($event)"
                        >
                            <option
                                *ngFor="let size of pageSizes"
                                [value]="size"
                            >
                                {{ size }}
                            </option>
                        </select>
                    </div>
                </div> -->

                <!-- Pagination Controls -->
                <div class="d-flex flex-column align-items-center mt-3 gap-2">
                    <div
                        class="d-flex justify-content-between align-items-center bg-light rounded px-3 py-2 w-100 flex-wrap"
                    >
                        <div>
                            Showing {{ VitalStart + 1 }} to
                            {{
                                VitalEnd > VitalTotalItems
                                    ? VitalTotalItems
                                    : VitalEnd
                            }}
                            of {{ VitalTotalItems }} entries
                        </div>

                        <div class="d-flex align-items-center gap-2">
                            <label class="me-1">Show</label>
                            <select
                                class="form-select form-select-sm"
                                style="width: auto"
                                [(ngModel)]="VitalPageSize"
                                [ngModelOptions]="{ standalone: true }"
                                (change)="onVitalPageSizeChange($event)"
                            >
                                <option
                                    *ngFor="let size of [5, 10, 25, 50, 100]"
                                    [value]="size"
                                >
                                    {{ size }}
                                </option>
                            </select>
                            <label>entries</label>
                        </div>
                    </div>

                    <nav>
                        <ul class="pagination pagination-sm mb-0">
                            <!-- Prev -->
                            <li
                                class="page-item"
                                [class.disabled]="VitalCurrentPage === 1"
                            >
                                <button
                                    class="page-link"
                                    (click)="VitalPrevPage()"
                                    [disabled]="VitalCurrentPage === 1"
                                >
                                    Previous
                                </button>
                            </li>

                            <!-- Page Numbers -->
                            <li
                                class="page-item"
                                *ngFor="let page of VitalPageNumbers"
                                [class.active]="page === VitalCurrentPage"
                                [class.disabled]="page === '...'"
                            >
                                <button
                                    class="page-link"
                                    *ngIf="page !== '...'"
                                    (click)="VitalGoToPage(+page)"
                                >
                                    {{ page }}
                                </button>
                                <span class="page-link" *ngIf="page === '...'"
                                    >â€¦</span
                                >
                            </li>

                            <!-- Next -->
                            <li
                                class="page-item"
                                [class.disabled]="
                                    VitalCurrentPage === VitalTotalPages
                                "
                            >
                                <button
                                    class="page-link"
                                    (click)="VitalNextPage()"
                                    [disabled]="
                                        VitalCurrentPage === VitalTotalPages
                                    "
                                >
                                    Next
                                </button>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ðŸ‘† Grid/Card Ends -->
