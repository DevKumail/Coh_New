<div class="mx-1 mt-1" [style.--patient-summary-offset.px]="offset">
  <div class="row layout-relative">

    <!-- Toggle Handles -->
    <button type="button" class="toggle-btn left" (click)="toggleLeft()" [attr.aria-expanded]="!leftCollapsed">
      {{ leftCollapsed ? '›' : '‹' }}
    </button>
    <button type="button" class="toggle-btn right" (click)="toggleRight()" [attr.aria-expanded]="!rightCollapsed">
      {{ rightCollapsed ? '‹' : '›' }}
    </button>

    <!-- Main Wrapper (expands when right sidebar collapsed) -->
    <div [ngClass]="{ 'col-10': !rightCollapsed, 'col-12': rightCollapsed }">
      <div class="row">

        <!-- Left Sidebar -->
        <div *ngIf="!leftCollapsed" class="col-2 bg-dark rounded p-1 mb-2 mb-sm-0 fixed-height text-white">
          <div>
            <app-side-menu [selected]="selectedId" (select)="onSelect($event)"></app-side-menu>
          </div>
        </div>

        <!-- Center Content -->
        <div [ngClass]="{ 'col-10': !leftCollapsed, 'col-12': leftCollapsed }" class="fixed-height">
          <div>
            <app-content-section [selected]="selectedId"></app-content-section>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Sidebar -->
    <div *ngIf="!rightCollapsed" class="col-2 bg-dark text-white rounded fixed-height">
      <div>
        <app-notes></app-notes>
      </div>
    </div>
  </div>
</div>
