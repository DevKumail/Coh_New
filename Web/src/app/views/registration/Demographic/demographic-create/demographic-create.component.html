<nav aria-label="breadcrumb">
    <ol class="breadcrumb bg-light bg-opacity-50 p-2">
        <li class="breadcrumb-item">
            <a href="javascript:void(0);">
                <ng-icon name="tablerSmartHome"></ng-icon>
                Clinical
            </a>
        </li>
        <li
            class="d-flex align-items-center text-muted mx-1"
            aria-current="page"
        >
            <ng-icon name="tablerChevronRight"></ng-icon>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
            demographic-create
        </li>
    </ol>
</nav>
<!-- <div class="container-fluid w-100"> -->
    <div class="card p-3 shadow">
        <h3 class="card-title mb-3 fw-bold">
            Demographic Create
        </h3>
        <!-- Form Starts -->
        <form *ngIf="demographicForm" class="no-invalid-icon" [formGroup]="demographicForm" (ngSubmit)="onSubmit()">
            <!-- Combined Section: Photo + Personal Information (Child Component) -->
            <app-demographic-photo-personal
                [demographicForm]="demographicForm"
                [titles]="titles"
                [imageSrc]="imageSrc"
                [defaultImage]="defaultImage"
                [fileName]="fileName"
                [isFormSubmitted]="isFormSubmitted"
                (fileSelected)="onFileSelected($event)"
                (remove)="removePhoto()"
            ></app-demographic-photo-personal>

            <!-- Basic Details Section (Child Component) -->
            <app-demographic-basic-details
                [demographicForm]="demographicForm"
                [gender]="gender"
                [genderIdentity]="genderIdentity"
                [maritalstatus]="maritalstatus"
                [bloodgroup]="bloodgroup"
                [isFormSubmitted]="isFormSubmitted"
            ></app-demographic-basic-details>

            <!-- Identification Section (Child Component) -->
            <app-demographic-identification
                [demographicForm]="demographicForm"
                [nationality]="nationality"
                [religion]="religion"
                [ethinic]="ethinic"
                [language]="language"
                [Emirates]="Emirates"
                [referred]="referred"
                [MediaChannel]="MediaChannel"
                [MediaItem]="MediaItem"
                [isFormSubmitted]="isFormSubmitted"
            ></app-demographic-identification>

            <!-- .............................Contact tab....................................... -->
            <app-demographic-tabs
                [(activeTabId)]="activeTabId"
                [isFormSubmitted]="isFormSubmitted"
                [contactTabValid]="isContactTabValid()"
                [emergencyContactTabValid]="isEmergencyContactTabValid()"
                [nextOfKinTabValid]="isNextOfKinTabValid()"
                [spouseTabValid]="isSpouseTabValid()"
                [parentsTabValid]="isParentsTabValid()"
                [assignmentTabValid]="isAssignmentTabValid()"
                [familyTabValid]="isFamilyTabValid()"
            >
                <!-- Contact Tab Content -->
                <app-demographic-contact
                    contactTab
                    [contactForm]="contactForm"
                    [Country]="Country"
                    [states]="states"
                    [city]="city"
                    [isFormSubmitted]="isFormSubmitted"
                    (countryChange)="onCountryChange()"
                    (stateChange)="onStateChange()"
                ></app-demographic-contact>

                <!-- Emergency Contact Tab Content -->
                <app-demographic-emergency-contact
                    emergencyTab
                    [contactForm]="emergencyContactForm"
                    [Country]="Country"
                    [states]="states"
                    [city]="city"
                    [relationships]="relationships"
                    (countryChange)="onEmergencyCountryChange()"
                    (stateChange)="onEmergencyStateChange()"
                ></app-demographic-emergency-contact>

                <!-- Next Of Kin Tab Content -->
                <app-demographic-next-of-kin
                    nextOfKinTab
                    [nextForm]="nextForm"
                    [Country]="Country"
                    [states]="states"
                    [city]="city"
                    [relationships]="relationships"
                    (countryChange)="onCountryChange()"
                    (stateChange)="onStateChange()"
                ></app-demographic-next-of-kin>

                <!-- Spouse Tab Content -->
                <app-demographic-spouse
                    spouseTab
                    [spouseForm]="spouseForm"
                    [genders]="genders"
                ></app-demographic-spouse>

                <!-- Parents Tab Content -->
                <app-demographic-parents
                    parentsTab
                    [parentsInfo]="parentsInfo"
                ></app-demographic-parents>

                <!-- Assignments Tab Content -->
                <app-demographic-assignments
                    assignmentsTab
                    [assignmentForm]="assignmentForm"
                    [referred]="referred"
                    [FeeSchedule]="FeeSchedule"
                    [FinancialClass]="FinancialClass"
                    [location]="location"
                    [Site]="Site"
                    [EntityTypes]="EntityTypes"
                    [Emirates]="Emirates"
                ></app-demographic-assignments>

                <!-- Family Tab Content -->
                <app-demographic-family
                    familyTab
                    [familyForm]="familyForm"
                    [relationships]="relationships"
                    [familyMembers]="familyMembers"
                ></app-demographic-family>
            </app-demographic-tabs>

            <div class="mt-4 text-end">
                <button
                    type="button"
                    class="btn btn-secondary me-2"
                    (click)="goBack()"
                >
                    Back
                </button>

                <button
                    type="submit"
                    class="btn btn-primary"
                    [disabled]="parentsInfo.invalid || isLoading"
                >
                    <span
                        *ngIf="isLoading"
                        class="spinner-grow spinner-grow-sm me-1"
                        role="status"
                        aria-hidden="true"
                    ></span>
                    {{ isLoading ? "Submitting..." : "Submit" }}
                </button>
            </div>
       
<!-- </div> -->
